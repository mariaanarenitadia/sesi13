<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form>
        <div> 
            nama lengkap
            <input type="text" id="txNAMA">
        </div>

        <div> 
           email
            <input type="email" id="txEMAIL">
        </div>
        <div> 
            user name
             <input type="text" id="txUSERNAME">
         </div>

        <div> 
            paasword
             <input type="password" id="txPASS1">
         </div> 
         <div> 
            verifikasi paasword
             <input type="password" id="txPASS2">
         </div>


        <div>
            <button type="button" onclick="storedata()">simpan data</button>
        </div>
    </form>
    <script>
        function storedata(){
            let url ="https://webpro.ptov.my.id/api/curduser.php?aksi=store";
            let nama =document.getElementById("txNAMA").value; 
            let email =document.getElementById("txEMAIL").value;
            let username =document.getElementById("txUSERNAME").value; 
            let Pass1 =document.getElementById("txPASS1").value; 
            let Pass2 =document.getElementById("txPASS2").value;

             let params = "nama="+nama+"&email="+email+"&username="+username+"&pass1="+Pass1+"&pass2="+Pass2;
             console.log(params)

             const storedata = new XMLHttpRequest()
             storedata.onload = function(){
             let jdta = JSON.parse(this.responseText);
             if(jdta.error == 0){
                window.location.href="latihan01.html";
             }else{
                alert("penambahan data gagal");
             }
             }

        
        storedata.open("POST",url,true);
        storedata.setRequestHeader("Content-type","Application/x-www-form-urlencoded");
        storedata.send(params);
            }
    </script>
    
</body>
</html>